(()=>{"use strict";class e{constructor(){this.progress=document.querySelector("#progress")}scroll(){window.addEventListener("scroll",(()=>{let e=document.body.scrollHeight-window.innerHeight,t=document.documentElement.scrollTop/e*100;this.progress&&(this.progress.style.width=`${t}%`)}))}}class t{constructor(){this.lightTheme={"--main-color":"#0B5ED7","--main-text-color":"#333333","--main-bg-color":"#EEEEEE","--bg-color":"#FFFFFF"},this.darkTheme={"--main-color":"#F39C12","--main-text-color":"#EEEEEE","--main-bg-color":"#333333","--bg-color":"#262626"},this.input=document.querySelector("#theme"),this.root=document.documentElement,this.ball=document.querySelector(".dark-mode .ball"),this.init()}init(){var e,t,o;null===(e=this.input)||void 0===e||e.addEventListener("change",(()=>{var e,t,o;let n;(null===(e=this.input)||void 0===e?void 0:e.checked)?(n="DARK",this.changeTheme(this.darkTheme),null===(t=this.ball)||void 0===t||t.classList.add("active")):(n="LIGHT",this.changeTheme(this.lightTheme),null===(o=this.ball)||void 0===o||o.classList.add("disable")),localStorage.setItem("PageTheme",JSON.stringify(n))}));let n,a=localStorage.getItem("PageTheme");n=null!=a?JSON.parse(a):"LIGHT","DARK"===n?(this.input&&(this.input.checked=!0),null===(t=this.ball)||void 0===t||t.classList.add("active"),this.changeTheme(this.darkTheme)):(this.input&&(this.input.checked=!1),null===(o=this.ball)||void 0===o||o.classList.add("disable"),this.changeTheme(this.lightTheme))}changeTheme(e){for(let t in e)this.changeProperty(t,e[t])}changeProperty(e,t){this.root.style.setProperty(e,t)}}class o{start(e,t,o){const n=t.split("").reverse(),a=setInterval((()=>{if(!n.length)return void clearInterval(a);const t=n.pop();e&&(e.innerHTML+=t)}),o)}}class n{static onLoad(){const e=document.querySelector("#load");e&&(e.style.display="flex"),window.addEventListener("load",(()=>{e&&(e.style.display="none")}))}}class a{constructor(){this.links=document.querySelectorAll('.navegacao a[href^="#"]'),this.openNav=document.querySelector("#open-btn"),this.closeNav=document.querySelector("#close-btn"),this.nav=document.querySelector("#nav"),this.fadeNav=document.querySelector("#fadeNav"),this.input=document.querySelector("input")}btnTogleNav(){var e,t;null===(e=this.nav)||void 0===e||e.classList.toggle("navHide"),null===(t=this.fadeNav)||void 0===t||t.classList.toggle("navHide")}togleNav(){[this.openNav,this.closeNav,this.fadeNav,this.input].forEach((e=>{null==e||e.addEventListener("click",(()=>this.btnTogleNav()))})),this.links.forEach((e=>{e.addEventListener("click",(()=>this.btnTogleNav()))}))}}class s{constructor(){this.button=document.querySelector("#downloadCvBtn"),this.fileUrl="https://drive.google.com/uc?export=download&id=1PujszdPae5ke5kBYWEQh3CXziPg05Sgn"}download(){const e=document.createElement("a");e.href=this.fileUrl,e.download="GUILHERME AMARAL - CV.pdf",document.body.appendChild(e),e.click(),document.body.removeChild(e)}render(){this.button&&(this.button.innerHTML=`\n        <button \n          title="Botão para baixar o currículo em PDF"\n          type="button" \n          class="btn-cv" \n          onclick="${this.download()}">\n          <i class="fa-solid fa-cloud-arrow-down"></i>\n          <span class="cv-letra">Download CV</span>\n        </button>\n      `)}}class r{render(){const r=document.querySelector("#digit"),i=new e,l=new a,c=new s,d=new o;n.onLoad(),function(){let e=document.title,t=0,o=!0,n=setInterval(s,2e3),a=["Desenvolvedor Back end","Desenvolvedor Front end","Desenvolvedor Full Stack","Guilherme Amaral"];function s(){document.title=a[t%a.length],t++}window.addEventListener("focus",(()=>{o||(o=!0,document.title=e,n=setInterval(s,2e3))})),window.addEventListener("blur",(()=>{o&&(o=!1,document.title="Volta aqui! ;(",clearInterval(n))}))}(),i.scroll(),l.togleNav(),new t,function(){function e(e){var t;e.preventDefault(),t=function(e){const t=e.getAttribute("href");return document.querySelector(t).offsetTop}(e.target)-0,window.scrollTo({top:t,behavior:"smooth"})}document.querySelectorAll('.navegacao a[href^="#"]').forEach((t=>{t.addEventListener("click",e)}))}(),d.start(r,"Desenvolvedor web Full Stack.",100),c.render()}}class i{constructor(e){this.url=e}}class l extends i{constructor(e){super(e)}async getData(){const e=await fetch(this.url);return await e.json()}}class c extends i{constructor(e){super(e)}async getData(){const e=await fetch(this.url);return await e.json()}}class d extends i{constructor(e){super(e)}async getData(){const e=await fetch(this.url),t=await e.json();console.log("data",t.map((e=>null==e?void 0:e.updated_at))),t.sort(((e,t)=>{const o=new Date(e.updated_at);return new Date(t.updated_at).getTime()-o.getTime()}));const o=t.slice(0,5);return console.log("Top 5 Últimos Projetos (ordenados):",o.map((e=>({repo:e})))),t}}class u{static createProjectsApi(){return new l("https://api-mini-projetos-guimrl.vercel.app/nprojects")}static createGithubApi(){return new c("https://api.github.com/users/guimrl")}static createLast5ProjectsApi(){return new d("https://api.github.com/users/Guimrl/repos")}}class h extends c{static getApi(e){const t=document.getElementById("imagem"),o=document.getElementById("nome"),n=`\n        <img src="${e.avatar_url}" class="imagem" alt="${e.name} vestindo\n        uma camiseta preta, com barba bem aparada e cabelo curto, em um fundo\n        colorido com tonalidades de laranja e branco." />`,a=`<h2>${e.name}</h2>`;t&&(t.innerHTML=n),o&&(o.innerHTML=a)}}const m=document.querySelector("#projetos");(new class{init(){try{(new r).render(),u.createGithubApi().getData().then((e=>h.getApi(e))).catch((e=>{404===e.request.status?console.error(`Error: ${e.request.statusText} - ${e.request.status}`):console.error(`Error: ${e}`)})).finally((()=>{console.log("Página carregada com sucesso!")})),u.createProjectsApi().getData().then((e=>function(e){e.forEach((e=>{const{alt:t,description:o,image:n,url:a,_id:s}=e,r=document.createElement("div");r.classList.add("projetos"),r.innerHTML=`\n      <figure id="projeto-conteudo" class="projeto-conteudo">\n        <img src="${n}" alt="${t}" class="projeto-imagem" loading="lazy">\n          <figcaption class="descricao-projeto" id="${s}">\n            ${o}\n            <br><br>\n            <a href="${a}" aria-labelledby="${s}" id="btn-projeto"\n                target="_blank">Ver Site</a>\n          </figcaption>\n      </figure>\n        `,m&&m.appendChild(r)}))}(e)))}catch(e){console.log(e.message)}}}).init()})();